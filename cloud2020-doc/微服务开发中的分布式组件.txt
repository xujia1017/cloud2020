0 微服务模块的开发步骤:
    1 建module
    2 改POM
    3 写YML
    4 主启动
    5 业务类


1 服务注册中心
    在传统的rpc远程调用框架中，管理每个服务与服务之间依赖关系比较复杂，管理比较复杂，所以需要使用服务治理，管理服务于服务之间依赖关系，可以实现服务调用、负载均衡、容错等，实现服务发现与注册。

    在服务注册与发现中，有一个注册中心。当服务器启动的时候，会把当前自己服务器的信息 比如 服务地址通讯地址等以别名方式注册到注册中心上。另一方（消费者 | 服务提供者），
    以该别名的方式去注册中心上获取到实际的服务通讯地址，然后再实现本地 RPC 调用 RPC 远程调用框架核心设计思想：在于注册中心，因为使用注册中心管理每个服务与服务之间的一个依赖关系 ( 服务治理概念 ) 。
    在任何 rpc 远程框架中，都会有一个注册中心 ( 存放服务地址相关信息 ( 接口地址 ))

    Eureka:
        Eureka 采用了 CS 的设计架构， Eureka Server 作为服务注册功能的服务器，它是服务注册中心。而系统中的其他微服务，使用 Eureka 的客户端连接到 Eureka Server 并维持心跳连接。
        这样系统的维护人员就可以通过 Eureka Server 来监控系统中各个微服务是否正常运行。
        Eureka Server: 提供服务注册服务
            各个微服务节点通过配置启动后，会在Eureka Server中进行注册，这样Eureka Server中的服务注册表中将会存储所有可用服务节点的信息，服务节点的信息可以在界面中直观看到。

        Eureka Client: 通过注册中心进行访问
            是一个Java客户端，用于简化Eureka Server的交互，客户端同时也具备一个内置的、使用轮询(round-robin)负载算法的负载均衡器。在应用启动后，将会向Eureka Server发送心跳(默认周期为30秒)。
            如果Eureka Server在多个心跳周期内没有接收到某个节点的心跳，Eureka Server将会从服务注册表中把这个服务节点移除（默认90秒）.

    consul:

    Zookeeper:

    Nacos:

    对比:
        1 Eureka是CP，Zookeeper和Consul是AP，


2 负载均衡
      RestTemplate: Spring提供的一个访问 Http 服务的客户端类
      Ribbon: 是运行在消费者端的负载均衡器


3 RPC通信组件
      Feign
      OpenFeign: 也是运行在消费者端的，使用 Ribbon 进行负载均衡，所以 OpenFeign 直接内置了 Ribbon
      Dubbo
      Grpc



4 服务降级/熔断
    降级: 降级是为了更好的用户体验，当一个方法调用异常时，通过执行另一种代码逻辑来给用户友好的恢复。比如Hystrix的后背处理模式，通过设置fallbackMethod来给一个方法设置备用的代码逻辑。
    熔断: 熔断是服务雪崩的一种有效解决方案。当指定时间窗内的请求失败率达到设定阈值时，系统将通过 断路器 直接将此请求链路断开。比如通过 @HystrixCommand 注解来标注某个方法，这样 Hystrix 就会使用 断路器 来“包装”这个方法，每当调用时间超过指定时间时(默认为 1000ms)，断路器将会中断对这个方法的调用。

    Hystrix:
        1 就是一个能进行`熔断` 和`降级`的库，通过使用它能提高整个系统的弹性
        2 在分布式环境中，不可避免地会有许多服务依赖项中的某些失败。Hystrix 是一个库，可通过添加等待时间容限和容错逻辑来帮助您控制这些分布式服务之间的交互。
          Hystrix 通过隔离服务之间的访问点，停止服务之间的级联故障并提供后备选项来实现此目的，所有这些都可以提高系统的整体弹性。

    Sentinel:
        1
        2



5 服务网关
    网关: 网关是系统唯一对外的入口，介于客户端与服务器端之间，用于对请求进行鉴权、限流、 路由、监控等功能。
         API网关为微服务架构中的服务提供了统一的访问入口，客户端通过API网关访问相关服务。
         API网关的定义类似于设计模式中的门面模式，它相当于整个微服务架构中的门面，所有客户端的访问都通过它来进行路由及过滤。
         它实现了请求路由、负载均衡、校验过滤、服务容错、服务聚合等功能

    网关和Nginx:
        https://www.jianshu.com/p/8d82c6c2e5ee
        https://blog.csdn.net/awodwde/article/details/113856091
        https://blog.csdn.net/Aizen_Sousuke/article/details/106640778

        API网关与Nginx的区别:
            api网关与nginx的区别还是比较明显的。
            Nginx是内核和模块组成的。内核设计的比较简单，功能是通过查找客户端以及匹配URL，然后再来启动不同模块下的功能作用。
            其次是nginx的编译模式是静态编译模式，静态编译模式和api网关的模式有所不同。
            并且在处理请求的时候 Nginx每次只能处理一个请求，处理请求的方式是异步非阻塞的方式。

        API网关的优点:
            首先是系统易于监控，可以从网络端口来收集信息从而进行有效分析。
            其次是方便于身份认证，只需在api网关上进行认证，就可以直达不同的微服务系统。
            还有一点是可以减少客户端与各种服务端的交互验证次数，让用户可以一次认证，从而最快进入到不同的微服务架构当中。


    Zuul:
        1
        2

    Spring Cloud GateWay:
        1
        2


6 配置中心
    Spring Cloud config:
        1 为分布式系统中的外部化配置提供服务器和客户端支持。使用Config服务器，可以在中心位置管理所有环境中应用程序的外部属性。
        2 简单说，就是能将各个 应用/系统/模块 的配置文件存放到统一的地方然后进行管理(Git 或者 SVN)。
    
    nacos


7 消息总线
    Spring Cloud Bus:
        1 用于将服务和服务实例与分布式消息系统链接在一起的事件总线。在集群中传播状态更改很有用（例如配置更改事件）。

        2 Spring Cloud Bus的作用就是管理和广播分布式系统中的消息，也就是消息引擎系统中的广播模式。当然作为 消息总线 的Spring Cloud Bus可以做很多事而不仅仅是客户端的配置刷新功能。

        3 拥有了 Spring Cloud Bus 之后，我们只需要创建一个简单的请求，并且加上 @ResfreshScope 注解就能进行配置的动态修改了




8 分布式消息
    Rabbit MQ
    Rocket MQ
    kafka



9 分布式事务
    seata























状态机模型中的4个要素，即现态、条件、动作、次态。

现态：是指当前所处的状态。
条件：又称为“事件”。当一个条件被满足，将会触发一个动作，或者执行一次状态的迁移。
动作：条件满足后执行的动作。动作执行完毕后，可以迁移到新的状态，也可以仍旧保持原状态。动作不是必需的，当条件满足后，也可以不执行任何动作，直接迁移到新状态。
次态：条件满足后要迁往的新状态。“次态”是相对于“现态”而言的，“次态”一旦被激活，就转变成新的“现态”了。

大白话：
    现态在什么条件下，触发了什么动作，产生了什么次态































